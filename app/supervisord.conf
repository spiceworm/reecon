; https://www.digitalocean.com/community/questions/app-platform-supervisor-error
; [unix_http_server]
; file=/var/run/supervisor.sock

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///var/run/supervisor.sock

[supervisord]
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisor.pid

[program:app]
command=/usr/local/bin/uvicorn --app-dir=/app --host=127.0.0.1 --port=8000 application.main:app

[program:nginx]
command=/usr/sbin/nginx -c /etc/nginx/nginx.conf -g "daemon off;"

[program:arq-worker]
command=/usr/local/bin/arq application.worker.WorkerSettings
